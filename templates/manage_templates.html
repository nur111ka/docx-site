{% extends "base.html" %}

{% block content %}
<h1>üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏</h1>

<div class="card">
    <h3>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h3>
    <form method="POST" action="{{ url_for('manage_templates') }}">
        <input type="hidden" name="action" value="create_template">
        
        <div class="form-group">
            <label>–°–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è (–∞–Ω–≥–ª, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤):</label>
            <input type="text" name="template_name" placeholder="contract" required>
        </div>
        
        <div class="form-group">
            <label>–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è:</label>
            <input type="text" name="display_name" placeholder="–î–æ–≥–æ–≤–æ—Ä" required>
        </div>
        
        <button type="submit" class="btn">–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
    </form>
</div>

<div class="card">
    <h3>üìã –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤</h3>
    
    {% if templates %}
    <table class="table">
        <thead>
            <tr>
                <th>–°–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è</th>
                <th>–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for name, display in templates %}
            <tr>
                <td><code>{{ name }}</code></td>
                <td><strong>{{ display }}</strong></td>
                <td>
                    <a href="{{ url_for('manage_template', template_name=name) }}" class="btn">
                        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å
                    </a>
                    
                    <form method="POST" action="{{ url_for('manage_templates') }}" style="display: inline;">
                        <input type="hidden" name="action" value="delete_template">
                        <input type="hidden" name="template_name" value="{{ name }}">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω –∏ –≤—Å–µ –µ–≥–æ –¥–∞–Ω–Ω—ã–µ?')">
                            üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>–ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤</p>
    {% endif %}
</div>
{% endblock %}